!function(e){const t=e(".quote-content"),o=e(".author"),r=e(".source"),n=e(".source-link");e("#quote-button").on("click",(function(a){event.preventDefault(),e.ajax({method:"GET",url:red_vars.rest_url+"wp/v2/posts?filter[orderby]=rand&filter[posts_per_page]=1"}).done((function(a){e(t).empty(),e(o).empty(),e(r).empty(),e(n).empty(),e.each(a,(function(n,a){let s=a.content.rendered,u=a.title.rendered,l=a._qod_quote_source,d=a._qod_quote_source_url;e(t).html(s),d||l?e(o).append("&mdash;&nbsp;",u,",&nbsp;"):e(o).append("&mdash;&nbsp;",u,""),d?e(r).append(`<a href="${d}"class="source-link" target="new"> <span class="source">${l}</span> </a>`):e(r).append(`<span class="source">${l}</span>`)}))}))})),e("#submit").on("click",(function(t){t.preventDefault();const o=e("#form-author").val(),r=e("#form-quote").val(),n=e("#form-source").val(),a=e("#form-url").val();e.ajax({method:"POST",url:red_vars.rest_url+"wp/v2/posts",data:{content:r,title:o,_qod_quote_source:n,_qod_quote_source_url:a,status:"pending"},beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",red_vars.wpapi_nonce)}}).done((function(t){""===o||""===r?alert("Please note that the Author and Quote are required - they cannot be blank"):(e(".form-quote").slideUp(5e3,(function(){alert("Congratulations, the quote has been submitted."),e(".hidden-message").slideDown("5000"),e(".form-quote").slideDown("slow")})),e("#form-author").val(""),e("#form-quote").val(""),e("#form-source").val(""),e("#form-url").val(""))})).fail((function(e){alert("Error: There was an error adding the quote")}))}))}(jQuery);